(function(e){function t(t){for(var r,i,l=t[0],o=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"077b":function(e,t,a){e.exports={wrapper:"style_wrapper_3YTpF",registerForm:"style_registerForm_3XArf",verifyCode:"style_verifyCode_3ifHs",gender:"style_gender_1JYfH",labelText:"style_labelText_3U4Kz",requiredFields:"style_requiredFields_X9p4i",submit:"style_submit_10Qj-",submitActive:"style_submitActive_10gxQ",wrong:"style_wrong_tfcYK",fullName:"style_fullName_1zur8",nickname:"style_nickname_20ew5",password:"style_password_3wlOc",repeatPassword:"style_repeatPassword_376aq",phone:"style_phone_1ft-8","hint-data-v-39c8b77a":"style_hint-data-v-39c8b77a_24tIK"}},2587:function(e,t,a){"use strict";var r=a("077b"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"2ad2":function(e,t,a){"use strict";var r=a("59c5"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"3a42":function(e,t,a){"use strict";var r=a("f454"),s=a.n(r);a.d(t,"default",(function(){return s.a}))},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=a("1da1"),n=(a("96cf"),a("d3b7"),a("2f62")),i=a("8c4f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.home},[a("h2",[e._v("Hello, "+e._s(e.user.fullName)+"!")]),e.user.id?e._e():a("router-link",{class:e.$style.link,attrs:{to:"register"}},[e._v(" Registration ")])],1)},o=[],u={name:"home",data:function(){return{user:{id:this.$store.getters.ID,fullName:this.$store.getters.FULL_NAME}}}},c=u,d=a("3a42"),p=a("2877");function v(e){this["$style"]=d["default"].locals||d["default"]}var f=Object(p["a"])(c,l,o,!1,v,"b1e08da4",null),h=f.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.registrationId?a("div",{class:e.$style.wrapper},[a("h2",[e._v("Verification")]),a("label",{class:e.$style.verifyCode},[a("span",{class:e.$style.labelText},[e._v("Verification code, 6 digits")]),a("input",{attrs:{id:"verifyCode",type:"text",maxlength:"6",required:""},domProps:{value:e.verificationCode.value},on:{input:e.handleVerify}})])]):a("div",{class:e.$style.wrapper},[a("h2",[e._v("Registration")]),a("form",{class:e.$style.registerForm,on:{input:e.handleChange,submit:e.handleSubmit}},[a("label",{class:[e.$style.fullName,e.fullName.showHint?e.$style.wrong:""]},[a("span",{class:e.$style.labelText},[e._v(" Full Name * ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fullName.value,expression:"fullName.value"}],attrs:{id:"fullName",type:"text",required:""},domProps:{value:e.fullName.value},on:{blur:e.handleBlur,input:function(t){t.target.composing||e.$set(e.fullName,"value",t.target.value)}}})]),a("label",{class:[e.$style.nickname,e.nickname.showHint?e.$style.wrong:""]},[a("span",{class:e.$style.labelText},[e._v("Nickname *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname.value,expression:"nickname.value"}],attrs:{id:"nickname",type:"text",required:""},domProps:{value:e.nickname.value},on:{blur:e.handleBlur,input:function(t){t.target.composing||e.$set(e.nickname,"value",t.target.value)}}})]),a("label",{class:[e.$style.password,e.password.showHint?e.$style.wrong:""]},[a("span",{class:e.$style.labelText},[e._v("Password *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password.value,expression:"password.value"}],attrs:{id:"password",type:"password",required:""},domProps:{value:e.password.value},on:{blur:e.handleBlur,input:function(t){t.target.composing||e.$set(e.password,"value",t.target.value)}}})]),a("label",{class:[e.$style.repeatPassword,e.repeatPassword.showHint?e.$style.wrong:""]},[a("span",{class:e.$style.labelText},[e._v("Repeat Password *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword.value,expression:"repeatPassword.value"}],attrs:{id:"repeatPassword",type:"password",required:""},domProps:{value:e.repeatPassword.value},on:{blur:e.handleBlur,input:function(t){t.target.composing||e.$set(e.repeatPassword,"value",t.target.value)}}})]),a("label",{class:[e.$style.phone,e.phone.showHint?e.$style.wrong:""]},[a("span",{class:e.$style.labelText},[e._v("Phone *")]),a("input",{attrs:{id:"phone",type:"text",required:""},domProps:{value:e.phone.value},on:{blur:e.handleBlur}})]),a("label",{class:e.$style.country},[a("span",{class:e.$style.labelText},[e._v("Country")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],attrs:{id:"country",type:"text"},domProps:{value:e.country},on:{input:function(t){t.target.composing||(e.country=t.target.value)}}})]),a("label",{class:e.$style.city},[a("span",{class:e.$style.labelText},[e._v("City")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],attrs:{id:"city",type:"text"},domProps:{value:e.city},on:{input:function(t){t.target.composing||(e.city=t.target.value)}}})]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],class:e.$style.gender,attrs:{id:"gender"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gender=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("Gender")]),a("option",{attrs:{value:"MALE"}},[e._v("Male")]),a("option",{attrs:{value:"FEMALE"}},[e._v("Female")])]),a("p",{class:e.$style.requiredFields},[e._v("* - required fields")]),a("input",{class:[e.$style.submit,e.isFormValid?e.$style.submitActive:""],attrs:{disabled:!e.isFormValid,type:"submit",value:"continue"}})])])},y=[],w=a("5530");function g(e){var t;return t=/^998 /.test(e)?!!/^998 \d{0,9}$/.test(e)&&e:"998 ",t}function _(e){return/(?=.*\w)(?=.*[_\-.])^[\w\-.]{5,}$/g.test(e)}function b(e){return/(?=.*\w)(?=.*[_\-.+=@$!?])^[\w\-.+=@$!?]{8,}$/g.test(e)}function $(e){return/^[\d]*$/g.test(e)}function x(e){var t=e.target.value,a=e.target.id;switch(void 0!==this[a].showHint&&(this[a].showHint=!1),a){case"fullName":this.fullName.isValid=t.length>0;break;case"phone":t=g(t);var r=Object(w["a"])({},this.phone);this.phone=t?Object.assign(r,{value:t}):r,this.phone.isValid=13===this.phone.value.length;break;case"nickname":this.nickname.isValid=_(t);break;case"password":this.password.isValid=b(t),this.repeatPassword.isValid=this.password.value===this.repeatPassword.value;break;case"repeatPassword":this.repeatPassword.isValid=this.password.value===e.target.value;break;default:break}}function P(e){var t=this[e.target.id];void 0!==t.showHint&&(t.showHint=!t.isValid,"password"===e.target.id&&(this.repeatPassword.showHint=!this.repeatPassword.isValid))}a("a15b"),a("1276"),a("ac1f");var k={URL:{REGISTER:"http://test.ok.paymo.uz/public/user/register",VERIFY:"http://test.ok.paymo.uz/public/user/confirm-registration/"}},N=k;function V(e){var t=this;e.preventDefault();var a=N.URL.REGISTER,r={fullName:this.fullName.value,nickname:this.nickname.value,password:this.password.value,repeatPassword:this.repeatPassword.value,phone:this.phone.value.split(" ").join(""),gender:this.gender.toUpperCase(),country:this.country.toUpperCase(),city:this.city.toUpperCase()},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};fetch(a,s).then((function(e){return e.json()})).then((function(e){t.registrationId=e.registrationId})).catch((function(){Y.push("/error")}))}function E(e){var t=e.target.value;$(t)?this.verificationCode.value=t:this.verificationCode={value:this.verificationCode.value},6===this.verificationCode.value.length&&this.submitVerify()}a("99af");function O(){var e="".concat(N.URL.VERIFY).concat(this.registrationId),t={otp:+this.verificationCode.value},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};this.$store.dispatch("SET_USER",{URL:e,config:a})}var T={name:"register",data:function(){return{fullName:{value:"",isValid:!1,showHint:!1},nickname:{value:"",isValid:!1,showHint:!1},password:{value:"",isValid:!1,showHint:!1},repeatPassword:{value:"",isValid:!1,showHint:!1},phone:{value:"998 ",isValid:!1,showHint:!1},gender:"none",country:"",city:"",verificationCode:{value:"",isValid:!1},registrationId:null}},methods:{handleChange:x,handleBlur:P,handleSubmit:V,handleVerify:E,submitVerify:O},computed:{isFormValid:function(){return this.repeatPassword.isValid&&this.password.isValid&&this.nickname.isValid&&this.fullName.isValid&&this.phone.isValid}}},S=T,j=a("2587");function R(e){this["$style"]=j["default"].locals||j["default"]}var H=Object(p["a"])(S,m,y,!1,R,"39c8b77a",null),C=H.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.wrapper},[a("h2",[e._v("Error")]),a("p",[e._v("An error has occured during registation. Please, try again.")]),a("router-link",{class:e.$style.link,attrs:{to:"/"}},[e._v("Back to home")])],1)},U=[],q={name:"errorModal"},A=q,I=a("2ad2");function M(e){this["$style"]=I["default"].locals||I["default"]}var L=Object(p["a"])(A,F,U,!1,M,"2581dac8",null),B=L.exports;r["a"].use(i["a"]);var J=new i["a"]({routes:[{path:"/",name:"Home",component:h},{path:"/register",name:"Register",component:C},{path:"/error",name:"Register",component:B}]}),Y=J;r["a"].use(n["a"]);var z=new n["a"].Store({state:{user:{id:null,fullName:"guest"}},getters:{ID:function(e){return e.user.id},FULL_NAME:function(e){return e.user.fullName}},mutations:{SET_USER:function(e,t){e.user=t}},actions:{SET_USER:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a.URL,a.config);case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,t.commit("SET_USER",s),Y.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Y.push("/error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t,a){return e.apply(this,arguments)}return t}()}}),G=z,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("VueJS Application")]),a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)},D=[],Q={name:"App"},X=Q,Z=(a("5c0b"),Object(p["a"])(X,K,D,!1,null,null,null)),W=Z.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(W)},router:Y,store:G}).$mount("#app");t["default"]=Y},"59c5":function(e,t,a){e.exports={wrapper:"ErrorModal_wrapper_1GWyf",link:"ErrorModal_link_3FZsZ"}},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){},f454:function(e,t,a){e.exports={home:"Home_home_OnqYK",link:"Home_link_3Nixr"}}});
//# sourceMappingURL=app.abea9a1b.js.map